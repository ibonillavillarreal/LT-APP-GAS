<div class="row" class="mat-elevation-z3">
    <div class="card-body">
        <div class="row">
            <div class="card col-12">
                <br>
                <h4 class="card-title accordion-item"> 
                    <div class="col-10">
                        <mat-icon>add_shopping_cart</mat-icon> Agregar Formas de Pagos
                    </div>
                    <div class="col-2">
                        <br>
                        <mat-label style="text-align: center; font-size: 14px;"> Tasa de Cambio {{' :    '}} <strong> {{this.tsCambio}} </strong>   </mat-label>
                                                
                    </div>
                </h4>

            </div>
                
            <div class="row">
                
                <div class="col-2">
                    <br>
                    <b> Monto USD </b>
                </div>
                <div class="col-2">
                    <br>
                    <i > {{this.TOTAL_USD.toFixed(2)}} </i>
                </div>
                <div class="col-2">
                    <br>
                    <b > Importe USD </b>
                </div>
                <div class="col-2">
                    <br>
                    <i > {{this.IMPORTE.toFixed(2)}} </i>
                </div>
                <div class="col-1">
                    <br>
                    <b  *ngIf="this.CAMBIO > 0" > Faltante </b>
                </div>
                <div class="col-1">
                    <br>
                    <i  *ngIf="this.CAMBIO > 0" > {{this.CAMBIO.toFixed(2)}} </i>
                </div>

                <div class="col-2" style="padding-left: 80px;">
                    <br>
                    <button type="button" class="btn btn-danger" (click)="SeleccioPago(1)">
                        <i class="bi bi-plus-lg"></i>
                    </button>
                </div>
            </div>



            <br>
            <table mat-table #table [dataSource]="dataSourceFormasDePagos" matSort class="card">

                <ng-container matColumnDef="Metodo">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Metodo</th>
                    <td mat-cell *matCellDef="let element"> {{element.Metodo}} </td>
                </ng-container>

                <ng-container matColumnDef="Moneda">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Moneda </th>
                    <td mat-cell *matCellDef="let element"> {{element.Moneda}} </td>
                </ng-container>

                <ng-container matColumnDef="Banco">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Banco </th>
                    <td mat-cell *matCellDef="let element"> {{element.Banco}} </td>
                </ng-container>

                <ng-container matColumnDef="Cuenta">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Cuenta </th>
                    <td mat-cell *matCellDef="let element"> {{element.Cuenta}} </td>
                </ng-container>

                <ng-container matColumnDef="TipoRetencion">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> TipoRetencion </th>
                    <td mat-cell *matCellDef="let element"> {{element.TipoRetencion}} </td>
                </ng-container>

                <ng-container matColumnDef="NroReferencia">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> NroReferencia </th>
                    <td mat-cell *matCellDef="let element"> {{element.NroReferencia}} </td>
                </ng-container>

                <ng-container matColumnDef="Monto">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Monto </th>
                    <td mat-cell *matCellDef="let element"> {{element.Monto}} </td>
                </ng-container>


                <ng-container matColumnDef="acciones">
                    <th mat-header-cell *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let element" style="text-align: right;">

                        <span class="pointer accordion-item" style="color: #dc3545;" matTooltip="Agregar">
                            <mat-icon>add</mat-icon>
                        </span>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
            <mat-paginator [pageSizeOptions]="[10, 25, 100]" aria-label="Items por pagina"></mat-paginator>



        </div>

        <br>
        <div class="row col-12">
            <div class="col-8" style="text-align: right;">
                <br>
                <i *ngIf="this.CAMBIO <= 0"  class="card-title"> Cambio: </i>                                
            </div>
            <div class="col-2" style="text-align: right; padding-right: 2%;">
                <br>
                <i *ngIf="this.CAMBIO <= 0"  class="card-title"> {{this.CAMBIO.toFixed(2)}} </i>
            </div>
            <div class="col-1">
                <span>
                    <i class="btn btn-danger" (click)="Aplicar_Factura_Detalle_Pagos()"> Aplicar </i>
                </span>
            </div>

            <div class="col-1">
                <span>
                    <i class="btn btn-danger" (click)="Cerrar()"> Cancelar </i>
                </span>
            </div>
        </div>
        <br>
    </div>

</div>